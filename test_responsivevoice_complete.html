<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResponsiveVoice Test - Sistem Antrian</title>
    <script src="https://code.responsivevoice.org/responsivevoice.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        button { background: #007cba; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; margin: 5px; font-size: 16px; }
        button:hover { background: #005a87; }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .info { color: #17a2b8; }
        .log { background: #f8f9fa; padding: 10px; border-radius: 3px; margin: 10px 0; font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéµ ResponsiveVoice Test - Sistem Antrian</h1>
        <p class="info">Test ResponsiveVoice untuk sistem antrian dengan voice Indonesia</p>
        
        <div class="test-section">
            <h3>1. Test ResponsiveVoice Basic</h3>
            <button onclick="testBasic()">üîä Test Basic Voice</button>
            <button onclick="testIndonesian()">üáÆüá© Test Indonesian Voice</button>
            <div id="basic-log" class="log"></div>
        </div>
        
        <div class="test-section">
            <h3>2. Test Queue Announcement</h3>
            <button onclick="testQueueAnnouncement()">üì¢ Test Queue Announcement</button>
            <button onclick="testMultipleQueues()">üìã Test Multiple Queues</button>
            <div id="queue-log" class="log"></div>
        </div>
        
        <div class="test-section">
            <h3>3. Test Voice Settings</h3>
            <button onclick="testSlowVoice()">üêå Slow Voice</button>
            <button onclick="testFastVoice()">üöÄ Fast Voice</button>
            <button onclick="testHighPitch()">üéµ High Pitch</button>
            <button onclick="testLowPitch()">üé∂ Low Pitch</button>
            <div id="settings-log" class="log"></div>
        </div>
        
        <div class="test-section">
            <h3>4. Test Error Handling</h3>
            <button onclick="testErrorHandling()">‚ö†Ô∏è Test Error Handling</button>
            <div id="error-log" class="log"></div>
        </div>
        
        <div class="test-section">
            <h3>5. System Status</h3>
            <div id="status-log" class="log"></div>
        </div>
    </div>

    <script>
        // ResponsiveVoice configuration
        const RESPONSIVEVOICE_CONFIG = {
            voice: "Indonesian Female",
            rate: 0.8,
            pitch: 1,
            volume: 1
        };
        
        // Logging function
        function log(message, type = "info", section = "status") {
            const timestamp = new Date().toLocaleTimeString();
            const logElement = document.getElementById(section + "-log");
            const className = type === "success" ? "success" : type === "error" ? "error" : "info";
            logElement.innerHTML += `<span class="${className}">[${timestamp}] ${message}</span><br>`;
            logElement.scrollTop = logElement.scrollHeight;
        }
        
        // Test functions
        function testBasic() {
            log("Testing basic ResponsiveVoice...", "info", "basic");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Hello, this is a test of ResponsiveVoice", "English US Female", {
                    onstart: () => log("Basic test started", "success", "basic"),
                    onend: () => log("Basic test completed", "success", "basic"),
                    onerror: (error) => log("Basic test error: " + error, "error", "basic")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "basic");
            }
        }
        
        function testIndonesian() {
            log("Testing Indonesian voice...", "info", "basic");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Halo, ini adalah test suara Indonesia", "Indonesian Female", {
                    onstart: () => log("Indonesian test started", "success", "basic"),
                    onend: () => log("Indonesian test completed", "success", "basic"),
                    onerror: (error) => log("Indonesian test error: " + error, "error", "basic")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "basic");
            }
        }
        
        function testQueueAnnouncement() {
            log("Testing queue announcement...", "info", "queue");
            
            const text = "Nomor antrian 1A003, layanan Pengambilan Izin, menuju ke loket ZONA 1, ZONA UPTSP. Terima kasih.";
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak(text, RESPONSIVEVOICE_CONFIG.voice, {
                    rate: RESPONSIVEVOICE_CONFIG.rate,
                    pitch: RESPONSIVEVOICE_CONFIG.pitch,
                    volume: RESPONSIVEVOICE_CONFIG.volume,
                    onstart: () => log("Queue announcement started", "success", "queue"),
                    onend: () => log("Queue announcement completed", "success", "queue"),
                    onerror: (error) => log("Queue announcement error: " + error, "error", "queue")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "queue");
            }
        }
        
        function testMultipleQueues() {
            log("Testing multiple queue announcements...", "info", "queue");
            
            const queues = [
                "Nomor antrian 1A003, layanan Pengambilan Izin, menuju ke loket ZONA 1, ZONA UPTSP. Terima kasih.",
                "Nomor antrian 1B005, layanan Konsultasi PTSP, menuju ke loket ZONA 1, ZONA UPTSP. Terima kasih.",
                "Nomor antrian 1C001, layanan Konsultasi Diskoperdag, menuju ke loket ZONA 1, ZONA UPTSP. Terima kasih."
            ];
            
            let currentIndex = 0;
            
            function announceNext() {
                if (currentIndex < queues.length) {
                    log(`Announcing queue ${currentIndex + 1}/${queues.length}`, "info", "queue");
                    
                    responsiveVoice.speak(queues[currentIndex], RESPONSIVEVOICE_CONFIG.voice, {
                        rate: RESPONSIVEVOICE_CONFIG.rate,
                        pitch: RESPONSIVEVOICE_CONFIG.pitch,
                        volume: RESPONSIVEVOICE_CONFIG.volume,
                        onstart: () => log(`Queue ${currentIndex + 1} started`, "success", "queue"),
                        onend: () => {
                            log(`Queue ${currentIndex + 1} completed`, "success", "queue");
                            currentIndex++;
                            if (currentIndex < queues.length) {
                                setTimeout(announceNext, 1000); // 1 second delay
                            } else {
                                log("All queue announcements completed", "success", "queue");
                            }
                        },
                        onerror: (error) => log(`Queue ${currentIndex + 1} error: ` + error, "error", "queue")
                    });
                }
            }
            
            if (typeof responsiveVoice !== "undefined") {
                announceNext();
            } else {
                log("ResponsiveVoice not loaded", "error", "queue");
            }
        }
        
        function testSlowVoice() {
            log("Testing slow voice...", "info", "settings");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Ini adalah test suara lambat", "Indonesian Female", {
                    rate: 0.5,
                    onstart: () => log("Slow voice started", "success", "settings"),
                    onend: () => log("Slow voice completed", "success", "settings"),
                    onerror: (error) => log("Slow voice error: " + error, "error", "settings")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "settings");
            }
        }
        
        function testFastVoice() {
            log("Testing fast voice...", "info", "settings");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Ini adalah test suara cepat", "Indonesian Female", {
                    rate: 1.5,
                    onstart: () => log("Fast voice started", "success", "settings"),
                    onend: () => log("Fast voice completed", "success", "settings"),
                    onerror: (error) => log("Fast voice error: " + error, "error", "settings")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "settings");
            }
        }
        
        function testHighPitch() {
            log("Testing high pitch...", "info", "settings");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Ini adalah test nada tinggi", "Indonesian Female", {
                    pitch: 1.5,
                    onstart: () => log("High pitch started", "success", "settings"),
                    onend: () => log("High pitch completed", "success", "settings"),
                    onerror: (error) => log("High pitch error: " + error, "error", "settings")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "settings");
            }
        }
        
        function testLowPitch() {
            log("Testing low pitch...", "info", "settings");
            
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Ini adalah test nada rendah", "Indonesian Female", {
                    pitch: 0.5,
                    onstart: () => log("Low pitch started", "success", "settings"),
                    onend: () => log("Low pitch completed", "success", "settings"),
                    onerror: (error) => log("Low pitch error: " + error, "error", "settings")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "settings");
            }
        }
        
        function testErrorHandling() {
            log("Testing error handling...", "info", "error");
            
            // Test with invalid voice
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak("Test error handling", "Invalid Voice", {
                    onstart: () => log("Error test started", "info", "error"),
                    onend: () => log("Error test completed", "success", "error"),
                    onerror: (error) => log("Error test caught error: " + error, "error", "error")
                });
            } else {
                log("ResponsiveVoice not loaded", "error", "error");
            }
        }
        
        // Initialize status
        window.onload = function() {
            log("ResponsiveVoice Test Page Loaded", "success", "status");
            
            if (typeof responsiveVoice !== "undefined") {
                log("‚úÖ ResponsiveVoice is loaded and ready", "success", "status");
                log("Voice: " + RESPONSIVEVOICE_CONFIG.voice, "info", "status");
                log("Rate: " + RESPONSIVEVOICE_CONFIG.rate, "info", "status");
                log("Pitch: " + RESPONSIVEVOICE_CONFIG.pitch, "info", "status");
                log("Volume: " + RESPONSIVEVOICE_CONFIG.volume, "info", "status");
            } else {
                log("‚ùå ResponsiveVoice not loaded", "error", "status");
            }
        };
    </script>
</body>
</html>